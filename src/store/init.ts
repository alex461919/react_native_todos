import { Task, TaskStatusEnum } from '../model';

const tasks = [
  'Утром проснуться от пения птиц',
  'Вести летний дневник',
  'Сыграть в «стрелялки» водными пистолетами',
  'Собрать картину из пазлов на 500 или 1000 фрагментов',
  'Выучить понравившееся стихотворение',
  'Спеть любимую песню под гитару',
  'Устроить день просмотра любимых фильмов',
  'Научиться готовить какое-нибудь необычное блюдо',
  'Нарвать букет полевых цветов',
  'Покататься на аттракционах',
  'Придумать свой собственный коктейль',
  'Сходить в зоопарк',
  'Попробовать написать рассказ или стихотворение',
  'Выспаться',
  'Объесться мороженым',
  'Увидеть красивый закат',
  'Не спать сутки',
  'Выпустить в небо китайский фонарик',
  'Погулять под дождем без зонта',
  'Целый день питаться своими любимыми вкусняшками',
  'Сыграть в настольную игру с родителями',
  'Наесться свежих фруктов',
  'Пройти за день 20 километров',
  'Уснуть на свежем воздухе',
  'Прокатиться на поезде или электричке',
  'Сходить на фильм ужасов на ночной сеанс',
  'Запечь картошку на костре',
  'Прокатиться по водоему на пароходе или лодке',
  'Посадить дерево, куст или цветы',
  'Съездить с родителями на природу',
  'Искупаться в море ночью',
  'Признаться в любви',
  'Прочесть книгу',
  'Поваляться на траве',
  'Поужинать в летнем кафе',
  'Устроить мальчишник или девичник',
  'Весь день делать то, что хочется',
  'Прослушать все песни любимого исполнителя',
  'Побывать в кинотеатре под открытым небом',
  'Поучаствовать в квесте',
  'Заняться спортом',
  'Сделать генеральную уборку',
  'Сфотографировать молнию в грозу',
  'Принять участие в добром флешмобе',
  'Приготовить домашнее мороженое',
  'Научиться водить машину',
  'Сделать селфи под водой',
  'Нарисовать картину, можно по номерам',
  'Купить яркий летний look',
  'Встать рано утром на пробежку',
  'Провести вечер на балконе с книгой',
  'Найти свой личный саундтрек лета 2021',
  'Устроить день ничегонеделания',
  'Сделать доброе дело',
  'Освоить новое хобби',
  'Поиграть в подвижные игры на свежем воздухе',
  'Приготовить ужин для всей семьи',
  'Побыть сутки в одиночестве',
  'Сварить варенье или компот из свежих ягод',
  'Устроить фотосессию',
  'Рано лечь спать и проснуться на рассвете',
  'Познакомиться с новыми людьми',
  'Увидеть светлячков',
  'Побывать в аквапарке',
  'Одолеть ближайшую вершину (горы или холма)',
  'Сделать дизайнерскую футболку или джинсы',
  'Целый день проиграть в приставку',
  'Выучить классный фокус',
  'Искупаться под водопадом',
  'Завести полезную привычку',
  'Рассказать о своих мечтах вслух',
  'Сделать фотоколлаж самых ярких событий лета',
  'Приготовить вкусный летний салат',
  'Посетить культурное мероприятие: музей или выставку',
  'Сделать что-то экстремальное лично для вас',
  'Заговорить с незнакомым человеком',
  'Написать бумажное письмо другу, маме или самому себе',
  'Посмотреть любимый детский мультик',
  'Позвонить человеку из детства, по которому сильно скучаете',
  'Освоить новое трендовые приложение на телефоне',
  'Поспорить с другом на безумный поступок',
  'Сделать неожиданный подарок маме',
  'Купить свой собственный комнатный цветок',
  'Купить вещь или предмет, который давно хотелось приобрести',
  'Посетить место, в котором никогда не был',
  'Позволить себе быть самим собой',
  'Покататься на велосипеде в окрестностях города',
  'Полюбоваться метеоритным дождем в августе',
  'Сменить имидж',
  'Позволить себе наслаждаться каждым моментом лета',
];
const today = (() => {
  const date = new Date();
  return new Date(date.getFullYear(), date.getMonth(), date.getDate());
})();

export default (props: { taskCount: number; dayCount: number }): Task[] =>
  tasks
    .sort(() => Math.random() - 0.5)
    .slice(0, Math.min(tasks.length, props.taskCount))
    .map((item, index) => ({
      id: (index + 1).toString(),
      topic: item,
      date: todayPlus(Math.floor(Math.random() * props.dayCount)),
      status: randomStatus(),
    }));

const todayPlus = (plus: number) => {
  const newDay = new Date(today);
  newDay.setDate(newDay.getDate() + plus);
  return newDay;
};
const randomStatus = () => {
  const r = Math.random();
  if (r > 0.9) {
    return TaskStatusEnum.Canceled;
  }
  if (r > 0.6) {
    return TaskStatusEnum.Performed;
  }
  return TaskStatusEnum.Wait;
};
